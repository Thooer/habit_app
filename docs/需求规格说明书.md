# 习惯打卡App - 需求规格说明书

## 1. 引言

### 1.1 项目背景
随着现代生活节奏加快，人们越来越重视个人习惯的养成和自我管理。本项目旨在开发一款简洁易用的习惯打卡应用，帮助用户记录和追踪日常习惯，通过数据可视化和成就系统激励用户坚持良好习惯。

### 1.2 项目目标
- 提供简单直观的习惯管理功能
- 通过打卡机制帮助用户养成习惯
- 使用数据可视化展示用户进度
- 通过成就系统增强用户粘性
- 实现跨平台运行（Web/Android/iOS）

### 1.3 开发方式
本项目采用AI辅助开发方式，使用GPT-5.2模型进行代码生成和优化，大幅提升开发效率。

---

## 2. 功能需求

### 2.1 习惯管理模块

#### 2.1.1 添加习惯
- **功能描述**: 用户可以创建新的习惯项目
- **输入**: 习惯名称（必填）
- **输出**: 在习惯列表中显示新创建的习惯
- **业务规则**: 
  - 习惯名称不能为空
  - 自动分配唯一ID
  - 自动记录创建时间
  - 默认分配图标（⭐）

#### 2.1.2 查看习惯列表
- **功能描述**: 显示所有已创建的习惯
- **显示内容**:
  - 习惯名称和图标
  - 连续打卡天数
  - 累计打卡次数
  - 今日打卡状态
- **排序规则**: 按创建时间倒序排列

#### 2.1.3 删除习惯
- **功能描述**: 用户可以删除不需要的习惯
- **触发方式**: 长按习惯项（可扩展）
- **业务规则**: 删除习惯时同时删除相关打卡记录

### 2.2 打卡功能模块

#### 2.2.1 每日打卡
- **功能描述**: 用户点击按钮完成当日打卡
- **交互方式**: 点击习惯右侧的圆形按钮
- **视觉反馈**:
  - 未打卡: 空心圆圈（灰色）
  - 已打卡: 实心圆圈带✓（绿色）
  - 打卡动画: 缩放动画效果
- **业务规则**:
  - 每个习惯每天只能打卡一次
  - 重复打卡显示提示信息
  - 打卡成功显示祝贺提示

#### 2.2.2 打卡记录
- **功能描述**: 系统自动记录每次打卡的日期
- **存储内容**:
  - 打卡ID
  - 关联的习惯ID
  - 打卡日期
- **数据持久化**: 使用LocalStorage本地存储

### 2.3 数据统计模块

#### 2.3.1 总体统计
- **统计指标**:
  - 习惯总数
  - 累计打卡次数
  - 最长连续天数
  - 今日完成数量
- **展示方式**: 4个统计卡片，使用渐变色背景

#### 2.3.2 单个习惯统计
- **统计指标**:
  - 连续打卡天数（Streak）
  - 累计打卡次数（Total）
  - 30天完成率（百分比）
- **计算规则**:
  - 连续天数: 从今天往前推算，中断则重新计数
  - 完成率: 最近30天内打卡天数 / 30 × 100%

#### 2.3.3 数据可视化
- **图表类型**:
  - 统计卡片（数字展示）
  - 进度条（完成率）
- **更新频率**: 实时更新

### 2.4 成就系统模块

#### 2.4.1 成就定义
| 成就名称 | 图标 | 解锁条件 | 颜色 |
|---------|------|---------|------|
| 初次尝试 | 🌟 | 连续打卡1天 | 金黄色 |
| 坚持3天 | 🔥 | 连续打卡3天 | 橙色 |
| 一周达人 | 🏅 | 连续打卡7天 | 红色 |
| 半月英雄 | 💪 | 连续打卡15天 | 粉色 |
| 月度冠军 | 👑 | 连续打卡30天 | 紫色 |
| 百日筑基 | 💎 | 连续打卡100天 | 深紫色 |

#### 2.4.2 成就展示
- **展示方式**: 2列网格布局
- **视觉效果**:
  - 已解锁: 彩色背景 + "✓ 已解锁"标识
  - 未解锁: 灰色背景 + 半透明效果
- **计算规则**: 基于所有习惯中的最长连续天数

### 2.5 用户界面模块

#### 2.5.1 底部导航栏
- **导航项**:
  - 习惯（🏠）: 习惯列表页
  - 统计（📊）: 数据统计页
  - 成就（🏆）: 成就展示页
- **交互效果**: 当前页面高亮显示

#### 2.5.2 浮动操作按钮（FAB）
- **位置**: 右下角固定
- **功能**: 快速添加新习惯
- **样式**: 圆形按钮，主题色背景，"+"图标

---

## 3. 非功能需求

### 3.1 性能需求
- **响应时间**: 所有操作响应时间 < 100ms
- **加载时间**: 页面初始加载 < 1秒
- **流畅度**: 动画帧率 ≥ 60fps
- **数据容量**: 支持至少100个习惯，10000条打卡记录

### 3.2 可用性需求
- **易学性**: 新用户无需教程即可上手使用
- **操作效率**: 完成一次打卡操作 ≤ 2次点击
- **容错性**: 误操作可撤销或有明确提示
- **一致性**: 界面风格统一，符合Material Design规范

### 3.3 兼容性需求
- **浏览器支持**:
  - Chrome 90+
  - Firefox 88+
  - Safari 14+
  - Edge 90+
- **设备支持**:
  - 桌面端（1920×1080及以上）
  - 平板端（768×1024）
  - 移动端（375×667及以上）
- **操作系统**:
  - Android 5.0+
  - iOS 12.0+
  - Windows 10+
  - macOS 10.15+

### 3.4 可靠性需求
- **数据持久化**: 数据存储在本地，不依赖网络
- **数据安全**: 所有数据仅存储在用户设备，不上传服务器
- **容错处理**: 异常情况下不丢失数据
- **离线可用**: 完全支持离线使用

### 3.5 可维护性需求
- **代码规范**: 遵循JavaScript ES6+标准
- **注释完整**: 关键函数和业务逻辑有详细注释
- **模块化**: 数据层、业务层、展示层分离
- **可扩展**: 易于添加新功能（如数据导出、主题切换等）

### 3.6 用户体验需求
- **视觉设计**: 现代化、简洁、美观
- **动画效果**: 流畅自然，不过度
- **反馈及时**: 每个操作都有视觉或文字反馈
- **色彩搭配**: 符合色彩心理学，使用渐变增强视觉效果

---

## 4. 用例图

### 4.1 系统用例图

```
                    习惯打卡系统
        ┌─────────────────────────────┐
        │                             │
        │   ┌─────────────────┐      │
        │   │  管理习惯        │      │
        │   │  - 添加习惯      │      │
        │   │  - 查看习惯      │      │
        │   │  - 删除习惯      │      │
        │   └─────────────────┘      │
        │           │                 │
        │           │                 │
用户 ───┼───────────┼─────────────────┤
        │           │                 │
        │   ┌─────────────────┐      │
        │   │  打卡功能        │      │
        │   │  - 每日打卡      │      │
        │   │  - 查看记录      │      │
        │   └─────────────────┘      │
        │           │                 │
        │           │                 │
        │   ┌─────────────────┐      │
        │   │  查看统计        │      │
        │   │  - 总体统计      │      │
        │   │  - 习惯详情      │      │
        │   └─────────────────┘      │
        │           │                 │
        │           │                 │
        │   ┌─────────────────┐      │
        │   │  查看成就        │      │
        │   │  - 成就列表      │      │
        │   │  - 解锁状态      │      │
        │   └─────────────────┘      │
        │                             │
        └─────────────────────────────┘
```

### 4.2 主要用例描述

#### 用例1: 添加习惯
- **参与者**: 用户
- **前置条件**: 无
- **主要流程**:
  1. 用户点击右下角"+"按钮
  2. 系统显示添加习惯对话框
  3. 用户输入习惯名称
  4. 用户点击"添加"按钮
  5. 系统保存习惯并刷新列表
  6. 系统显示"添加成功"提示
- **后置条件**: 新习惯出现在习惯列表中

#### 用例2: 每日打卡
- **参与者**: 用户
- **前置条件**: 已存在至少一个习惯
- **主要流程**:
  1. 用户在习惯列表中找到要打卡的习惯
  2. 用户点击习惯右侧的圆形按钮
  3. 系统检查今日是否已打卡
  4. 系统记录打卡信息
  5. 系统更新按钮状态（变为绿色✓）
  6. 系统播放打卡动画
  7. 系统显示"打卡成功"提示
- **后置条件**: 打卡记录已保存，统计数据已更新
- **异常流程**: 如果今日已打卡，显示"今天已经打卡过了"提示

#### 用例3: 查看统计
- **参与者**: 用户
- **前置条件**: 已有打卡记录
- **主要流程**:
  1. 用户点击底部导航栏"统计"按钮
  2. 系统切换到统计页面
  3. 系统计算并显示总体统计数据
  4. 系统显示各习惯的详细统计
- **后置条件**: 用户查看到最新的统计数据

#### 用例4: 查看成就
- **参与者**: 用户
- **前置条件**: 无
- **主要流程**:
  1. 用户点击底部导航栏"成就"按钮
  2. 系统切换到成就页面
  3. 系统计算最长连续打卡天数
  4. 系统判断各成就的解锁状态
  5. 系统显示成就列表（已解锁的高亮显示）
- **后置条件**: 用户查看到当前成就状态

---

## 5. 数据需求

### 5.1 数据实体

#### 5.1.1 习惯（Habit）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | Number | 习惯唯一标识 | 主键，自动生成 |
| name | String | 习惯名称 | 非空，最大50字符 |
| icon | String | 图标emoji | 默认"⭐" |
| createdAt | String | 创建时间 | ISO 8601格式 |

#### 5.1.2 打卡记录（CheckRecord）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | Number | 记录唯一标识 | 主键，自动生成 |
| habitId | Number | 关联的习惯ID | 外键，非空 |
| date | String | 打卡日期 | YYYY-MM-DD格式 |

### 5.2 数据关系
- 一个习惯可以有多条打卡记录（1:N）
- 一条打卡记录只属于一个习惯（N:1）

### 5.3 数据存储
- **存储方式**: LocalStorage
- **存储格式**: JSON
- **存储键名**: habitTrackerDB
- **数据结构**:
```json
{
  "habits": [
    {
      "id": 1234567890,
      "name": "早起",
      "icon": "⭐",
      "createdAt": "2026-01-22T12:00:00.000Z"
    }
  ],
  "records": [
    {
      "id": 1234567891,
      "habitId": 1234567890,
      "date": "2026-01-22"
    }
  ]
}
```

---

## 6. 约束条件

### 6.1 技术约束
- 使用原生Web技术（HTML5 + CSS3 + JavaScript ES6+）
- 不依赖任何第三方框架或库
- 数据仅存储在客户端，不涉及服务器
- 支持PWA（Progressive Web App）标准

### 6.2 业务约束
- 每个习惯每天只能打卡一次
- 连续打卡天数计算基于自然日
- 成就解锁基于最长连续天数
- 删除习惯会同时删除相关记录

### 6.3 时间约束
- 项目开发周期: 2-3天
- 核心功能开发: 4小时
- 文档编写: 3小时
- 测试和打包: 2小时

---

## 7. 验收标准

### 7.1 功能验收
- ✅ 能够添加、查看习惯
- ✅ 能够完成每日打卡
- ✅ 能够查看统计数据
- ✅ 能够查看成就状态
- ✅ 数据持久化正常
- ✅ 所有交互有反馈

### 7.2 性能验收
- ✅ 页面加载时间 < 1秒
- ✅ 操作响应时间 < 100ms
- ✅ 动画流畅无卡顿
- ✅ 支持100+习惯和10000+记录

### 7.3 兼容性验收
- ✅ 在Chrome、Firefox、Safari、Edge上正常运行
- ✅ 在手机、平板、桌面设备上正常显示
- ✅ 支持离线使用

### 7.4 用户体验验收
- ✅ 界面美观、现代化
- ✅ 操作简单、直观
- ✅ 反馈及时、清晰
- ✅ 无明显bug

---

## 8. 附录

### 8.1 术语表
- **PWA**: Progressive Web App，渐进式Web应用
- **LocalStorage**: 浏览器本地存储API
- **Streak**: 连续打卡天数
- **FAB**: Floating Action Button，浮动操作按钮
- **Material Design**: Google的设计语言

### 8.2 参考资料
- MDN Web Docs: https://developer.mozilla.org/
- PWA文档: https://web.dev/progressive-web-apps/
- Material Design: https://material.io/design

### 8.3 版本历史
| 版本 | 日期 | 修改内容 | 作者 |
|------|------|---------|------|
| 1.0 | 2026-01-22 | 初始版本 | AI辅助开发 |

---

**文档编写**: AI辅助生成  
**最后更新**: 2026年1月22日

